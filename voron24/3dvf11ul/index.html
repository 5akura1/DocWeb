<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.21" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.143" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><link rel="icon" type="image/png" href="https://theme-plume.vuejs.press/favicon-32x32.png"><title>TAP加IDM | Sakura1 文档网站</title><meta name="description" content="摸鱼为主，产出为辅"><link rel="preload" href="/DocWeb/assets/style-BHmHPRvN.css" as="style"><link rel="stylesheet" href="/DocWeb/assets/style-BHmHPRvN.css"><link rel="modulepreload" href="/DocWeb/assets/app-DKdWVW_t.js"><link rel="modulepreload" href="/DocWeb/assets/index.html-DMtikzB7.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-3f9c24a2><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-08672cbc></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-08672cbc> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-3f9c24a2 data-v-7cb7f662><div class="vp-navbar" vp-navbar data-v-7cb7f662 data-v-671e1dd5><div class="wrapper" data-v-671e1dd5><div class="container" data-v-671e1dd5><div class="title" data-v-671e1dd5><div class="vp-navbar-title has-sidebar" data-v-671e1dd5 data-v-410668f5><a class="vp-link no-icon link title" href="/DocWeb/" data-v-410668f5 data-v-c19d267a><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-7bd0d5fb><!--]--><!--[--><img class="vp-image light logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-7bd0d5fb><!--]--><!--]--><!--]--><span data-v-410668f5>Sakura1 文档网站</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-671e1dd5><div class="content-body" data-v-671e1dd5><!--[--><!--]--><div class="vp-navbar-search search" data-v-671e1dd5><div class="search-wrapper" data-v-492354ba><!----><div id="local-search" data-v-492354ba><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-492354ba><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-671e1dd5 data-v-1e32d4b9><span id="main-nav-aria-label" class="visually-hidden" data-v-1e32d4b9>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/DocWeb/" tabindex="0" data-v-1e32d4b9 data-v-12558edd data-v-c19d267a><!--[--><!----><span data-v-12558edd>首页</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/DocWeb/blog/" tabindex="0" data-v-1e32d4b9 data-v-12558edd data-v-c19d267a><!--[--><!----><span data-v-12558edd>博客</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/DocWeb/blog/tags/" tabindex="0" data-v-1e32d4b9 data-v-12558edd data-v-c19d267a><!--[--><!----><span data-v-12558edd>标签</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/DocWeb/blog/archives/" tabindex="0" data-v-1e32d4b9 data-v-12558edd data-v-c19d267a><!--[--><!----><span data-v-12558edd>归档</span><!----><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-1e32d4b9 data-v-ae71e45f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-ae71e45f><span class="text" data-v-ae71e45f><!----><!----><span data-v-ae71e45f>笔记</span><!----><span class="vpi-chevron-down text-icon" data-v-ae71e45f></span></span></button><div class="menu" data-v-ae71e45f><div class="vp-menu" data-v-ae71e45f data-v-80feeb4f><div class="items" data-v-80feeb4f><!--[--><!--[--><div class="vp-menu-link" data-v-80feeb4f data-v-e5087714><a class="vp-link no-icon link" href="/DocWeb/demo/" data-v-e5087714 data-v-c19d267a><!--[--><!----> 示例 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-80feeb4f data-v-e5087714><a class="vp-link no-icon link" href="/DocWeb/voron24/" data-v-e5087714 data-v-c19d267a><!--[--><!----> Voron2.4 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!--[--><!--]--><div class="vp-flyout vp-navbar-translations translations" data-v-671e1dd5 data-v-99b6e94a data-v-ae71e45f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="选择语言" data-v-ae71e45f><span class="text" data-v-ae71e45f><!----><span class="vpi-languages option-icon" data-v-ae71e45f></span><!----><!----><span class="vpi-chevron-down text-icon" data-v-ae71e45f></span></span></button><div class="menu" data-v-ae71e45f><div class="vp-menu" data-v-ae71e45f data-v-80feeb4f><!----><!--[--><!--[--><div class="items" data-v-99b6e94a><p class="title" data-v-99b6e94a>简体中文</p><!--[--><div class="vp-menu-link" data-v-99b6e94a data-v-e5087714><a class="vp-link no-icon link" href="/DocWeb/en/" data-v-e5087714 data-v-c19d267a><!--[--><!----> English <!----><!--]--><!----></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="vp-navbar-appearance appearance" data-v-671e1dd5 data-v-8b920d19><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-8b920d19 data-v-c6811aa2 data-v-56556a5f><span class="check" data-v-56556a5f><span class="icon" data-v-56556a5f><!--[--><span class="vpi-sun sun" data-v-c6811aa2></span><span class="vpi-moon moon" data-v-c6811aa2></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-671e1dd5 data-v-8e1b2ccc data-v-4fd279bc><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-4fd279bc data-v-af1eb162><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-671e1dd5 data-v-1e751eac data-v-ae71e45f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-ae71e45f><span class="vpi-more-horizontal icon" data-v-ae71e45f></span></button><div class="menu" data-v-ae71e45f><div class="vp-menu" data-v-ae71e45f data-v-80feeb4f><!----><!--[--><!--[--><div class="group translations" data-v-1e751eac><p class="trans-title" data-v-1e751eac>简体中文</p><!--[--><div class="vp-menu-link" data-v-1e751eac data-v-e5087714><a class="vp-link no-icon link" href="/DocWeb/en/" data-v-e5087714 data-v-c19d267a><!--[--><!----> English <!----><!--]--><!----></a></div><!--]--></div><div class="group" data-v-1e751eac><div class="item appearance" data-v-1e751eac><p class="label" data-v-1e751eac>外观</p><div class="appearance-action" data-v-1e751eac><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-1e751eac data-v-c6811aa2 data-v-56556a5f><span class="check" data-v-56556a5f><span class="icon" data-v-56556a5f><!--[--><span class="vpi-sun sun" data-v-c6811aa2></span><span class="vpi-moon moon" data-v-c6811aa2></span><!--]--></span></span></button></div></div></div><div class="group" data-v-1e751eac><div class="item social-links" data-v-1e751eac><div class="vp-social-links social-links-list" data-v-1e751eac data-v-4fd279bc><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-4fd279bc data-v-af1eb162><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-671e1dd5 data-v-e81453d0><span class="container" data-v-e81453d0><span class="top" data-v-e81453d0></span><span class="middle" data-v-e81453d0></span><span class="bottom" data-v-e81453d0></span></span></button></div></div></div></div><div class="divider" data-v-671e1dd5><div class="divider-line" data-v-671e1dd5></div></div></div><!----></header><div class="vp-local-nav reached-top" data-v-3f9c24a2 data-v-d55651f3><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-d55651f3><span class="vpi-align-left menu-icon" data-v-d55651f3></span><span class="menu-text" data-v-d55651f3>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-d55651f3 data-v-c3e4b213><button data-v-c3e4b213>返回顶部</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-3f9c24a2 data-v-f095565b><div class="curtain" data-v-f095565b></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-f095565b><span id="sidebar-aria-label" class="visually-hidden" data-v-f095565b> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-1b7d5f33><section class="vp-sidebar-item sidebar-item level-0" data-v-1b7d5f33 data-v-71907753><div class="item" role="button" tabindex="0" data-v-71907753><div class="indicator" data-v-71907753></div><!----><h2 class="text" data-v-71907753><span data-v-71907753>VORON2.4介绍</span><!----></h2><!----></div><div data-v-71907753 data-v-71907753><div class="items" data-v-71907753><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-71907753 data-v-71907753><div class="item" data-v-71907753><div class="indicator" data-v-71907753></div><!----><a class="vp-link no-icon link link" href="/DocWeb/voron24/" data-v-71907753 data-v-c19d267a><!--[--><p class="text" data-v-71907753><span data-v-71907753>VORON 2.4</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-1b7d5f33><section class="vp-sidebar-item sidebar-item level-0" data-v-1b7d5f33 data-v-71907753><div class="item" role="button" tabindex="0" data-v-71907753><div class="indicator" data-v-71907753></div><!----><h2 class="text" data-v-71907753><span data-v-71907753>硬件配置</span><!----></h2><!----></div><div data-v-71907753 data-v-71907753><div class="items" data-v-71907753><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-71907753 data-v-71907753><div class="item" data-v-71907753><div class="indicator" data-v-71907753></div><!----><a class="vp-link no-icon link link" href="/DocWeb/voron24/hardware/p1dm6d46/" data-v-71907753 data-v-c19d267a><!--[--><p class="text" data-v-71907753><span data-v-71907753>硬件配置</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-1b7d5f33><section class="vp-sidebar-item sidebar-item level-0" data-v-1b7d5f33 data-v-71907753><div class="item" role="button" tabindex="0" data-v-71907753><div class="indicator" data-v-71907753></div><!----><h2 class="text" data-v-71907753><span data-v-71907753>软件配置</span><!----></h2><!----></div><div data-v-71907753 data-v-71907753><div class="items" data-v-71907753><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-71907753 data-v-71907753><div class="item" data-v-71907753><div class="indicator" data-v-71907753></div><!----><a class="vp-link no-icon link link" href="/DocWeb/voron24/software/x3sutj9k/" data-v-71907753 data-v-c19d267a><!--[--><p class="text" data-v-71907753><span data-v-71907753>软件配置</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-1b7d5f33><section class="vp-sidebar-item sidebar-item level-0 has-active" data-v-1b7d5f33 data-v-71907753><div class="item" role="button" tabindex="0" data-v-71907753><div class="indicator" data-v-71907753></div><!----><h2 class="text" data-v-71907753><span data-v-71907753>MOD配置</span><!----></h2><!----></div><div data-v-71907753 data-v-71907753><div class="items" data-v-71907753><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-71907753 data-v-71907753><div class="item" data-v-71907753><div class="indicator" data-v-71907753></div><!----><a class="vp-link no-icon link link" href="/DocWeb/voron24/mods/ynie5qgt/" data-v-71907753 data-v-c19d267a><!--[--><p class="text" data-v-71907753><span data-v-71907753>MOD配置</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-71907753 data-v-71907753><div class="item" data-v-71907753><div class="indicator" data-v-71907753></div><!----><a class="vp-link no-icon link link" href="/DocWeb/voron24/mod/a4nqljvw/" data-v-71907753 data-v-c19d267a><!--[--><p class="text" data-v-71907753><span data-v-71907753>270度前门</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-71907753 data-v-71907753><div class="item" data-v-71907753><div class="indicator" data-v-71907753></div><!----><a class="vp-link no-icon link link" href="/DocWeb/voron24/3dvf11ul/" data-v-71907753 data-v-c19d267a><!--[--><p class="text" data-v-71907753><span data-v-71907753>TAP+IDM</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-3f9c24a2 data-v-0e850053><div class="vp-doc-container has-sidebar has-aside" data-v-0e850053 data-v-b4467166><!--[--><!--]--><div class="container" data-v-b4467166><div class="aside" vp-outline data-v-b4467166><div class="aside-curtain" data-v-b4467166></div><div class="aside-container" data-v-b4467166><div class="aside-content" data-v-b4467166><div class="vp-doc-aside" data-v-b4467166 data-v-b554de2f><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-b554de2f data-v-43c37bc5><div class="content" data-v-43c37bc5><div class="outline-marker" data-v-43c37bc5></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-43c37bc5><span data-v-43c37bc5>此页内容</span><span class="vpi-print icon" data-v-43c37bc5></span></div><ul class="root" data-v-43c37bc5 data-v-d1f7df19><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-b554de2f></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-b4467166><div class="content-container" data-v-b4467166><!--[--><!--]--><main class="main" data-v-b4467166><nav class="vp-breadcrumb" data-v-b4467166 data-v-63e07b5d><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-63e07b5d><!--[--><li property="itemListElement" typeof="ListItem" data-v-63e07b5d><a class="vp-link no-icon link breadcrumb" href="/DocWeb/" property="item" typeof="WebPage" data-v-63e07b5d data-v-c19d267a><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-63e07b5d></span><meta property="name" content="首页" data-v-63e07b5d><meta property="position" content="1" data-v-63e07b5d></li><li property="itemListElement" typeof="ListItem" data-v-63e07b5d><span class="vp-link no-icon breadcrumb" href="/DocWeb/" property="item" typeof="WebPage" data-v-63e07b5d data-v-c19d267a><!--[-->MOD配置<!--]--><!----></span><span class="vpi-chevron-right" data-v-63e07b5d></span><meta property="name" content="MOD配置" data-v-63e07b5d><meta property="position" content="2" data-v-63e07b5d></li><li property="itemListElement" typeof="ListItem" data-v-63e07b5d><a class="vp-link no-icon link breadcrumb current" href="/DocWeb/voron24/3dvf11ul/" property="item" typeof="WebPage" data-v-63e07b5d data-v-c19d267a><!--[-->TAP加IDM<!--]--><!----></a><!----><meta property="name" content="TAP加IDM" data-v-63e07b5d><meta property="position" content="3" data-v-63e07b5d></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-ccc571e8>TAP加IDM <!----></h1><div class="vp-doc-meta" data-v-ccc571e8><!--[--><!--]--><p class="reading-time" data-v-ccc571e8><span class="vpi-books icon" data-v-ccc571e8></span><span data-v-ccc571e8>约 1155 字</span><span data-v-ccc571e8>大约 4 分钟</span></p><!----><!--[--><!--]--><p class="create-time" data-v-ccc571e8><span class="vpi-clock icon" data-v-ccc571e8></span><span data-v-ccc571e8>2025-05-18</span></p></div><!--]--><!--[--><!--]--><div class="_voron24_3dvf11ul_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-b4467166><!--[--><!--]--><div data-v-b4467166><h2 id="tap-idm" tabindex="-1"><a class="header-anchor" href="#tap-idm"><span>TAP + IDM</span></a></h2><p>最新教程 <a href="https://gitee.com/NBTP/idm-documents" target="_blank" rel="noopener noreferrer">Sgr A* VMT/IDM documents</a></p><p><em><strong>重要：教程里没有提到的不要做（尤其是G28）提到的请务必做，使用本模块需要对klipper使用有一定知识和经验积累，请在使用前确保你具备自己进行配置修改的能力</strong></em></p><p><em><strong>软件： 开始前请确保你是用的是python3.6以上的klipper</strong></em></p><p><em><strong>硬件：为了保证精度，请安装时尽可能让传感器线圈板的顶面低于加热块的底面。</strong></em></p><h3 id="安装脚本" tabindex="-1"><a class="header-anchor" href="#安装脚本"><span>安装脚本</span></a></h3><p>1.在用户目录下执行下方git命令来下载配套脚本</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>git clone https://gitee.com/NBTP/IDM.git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>2.如果你不确定自己的pip源是否是国内源或者能否正常下载新的库，或者你完全不知道pip是什么,建议使用以下命令将pip设置为清华源:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>~/klippy-env/bin/pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>3.然后执行下方命令进行安装</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>IDM/install.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="配置cfg" tabindex="-1"><a class="header-anchor" href="#配置cfg"><span>配置CFG</span></a></h3><p>1.复制到<strong>Printer.cfg</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>#####################################################################</span></span>
<span class="line"><span>#      TAP + IDM</span></span>
<span class="line"><span>#####################################################################</span></span>
<span class="line"><span>[mcu idm]</span></span>
<span class="line"><span># serial:</span></span>
<span class="line"><span>canbus_uuid: XXX</span></span>
<span class="line"><span># Path to the serial port for the idm device. Typically has the form</span></span>
<span class="line"><span># USB ls /dev/serial/by-id/*</span></span>
<span class="line"><span># CAN ~/klippy-env/bin/python ~/klipper/lib/canboot/flash_can.py -q</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[scanner]</span></span>
<span class="line"><span>mcu:idm</span></span>
<span class="line"><span># mcu of IDM</span></span>
<span class="line"><span>speed: 20.</span></span>
<span class="line"><span>#   Z probing dive speed.</span></span>
<span class="line"><span>lift_speed: 5.</span></span>
<span class="line"><span>#   Z probing lift speed.</span></span>
<span class="line"><span>backlash_comp: 0.5</span></span>
<span class="line"><span>#   Backlash compensation distance for removing Z backlash before measuring</span></span>
<span class="line"><span>#   the sensor response.</span></span>
<span class="line"><span>x_offset: 0.</span></span>
<span class="line"><span>#   X offset of idm from the nozzle.</span></span>
<span class="line"><span>y_offset: 20.0</span></span>
<span class="line"><span>#   Y offset of idm from the nozzle.</span></span>
<span class="line"><span>trigger_distance: 2.</span></span>
<span class="line"><span>#   idm trigger distance for homing.</span></span>
<span class="line"><span>trigger_dive_threshold: 1.5</span></span>
<span class="line"><span>#   Threshold for range vs dive mode probing. Beyond `trigger_distance +</span></span>
<span class="line"><span>#   trigger_dive_threshold` a dive will be used.</span></span>
<span class="line"><span>trigger_hysteresis: 0.006</span></span>
<span class="line"><span>#   Hysteresis on trigger threshold for untriggering, as a percentage of the</span></span>
<span class="line"><span>#   trigger threshold.</span></span>
<span class="line"><span>cal_nozzle_z: 0.1</span></span>
<span class="line"><span>#   Expected nozzle offset after completing manual Z offset calibration.</span></span>
<span class="line"><span>cal_floor: 0.1</span></span>
<span class="line"><span>#   Minimum z bound on sensor response measurement.</span></span>
<span class="line"><span>cal_ceil:5.</span></span>
<span class="line"><span>#   Maximum z bound on sensor response measurement.</span></span>
<span class="line"><span>cal_speed: 1.0</span></span>
<span class="line"><span>#   Speed while measuring response curve.</span></span>
<span class="line"><span>cal_move_speed: 10.</span></span>
<span class="line"><span>#   Speed while moving to position for response curve measurement.</span></span>
<span class="line"><span>default_model_name: default</span></span>
<span class="line"><span>#   Name of default idm model to load.</span></span>
<span class="line"><span>mesh_main_direction: x</span></span>
<span class="line"><span>#   Primary travel direction during mesh measurement.</span></span>
<span class="line"><span>#mesh_overscan: -1</span></span>
<span class="line"><span>#   Distance to use for direction changes at mesh line ends. Omit this setting</span></span>
<span class="line"><span>#   and a default will be calculated from line spacing and available travel.</span></span>
<span class="line"><span>mesh_cluster_size: 1</span></span>
<span class="line"><span>#   Radius of mesh grid point clusters.</span></span>
<span class="line"><span>mesh_runs: 1</span></span>
<span class="line"><span>#   Number of passes to make during mesh scan.</span></span>
<span class="line"><span></span></span>
<span class="line"><span># calibration_method: touch</span></span>
<span class="line"><span># #    校准方法的设置，如果你不想使用touch可以设置为scan来直接兼容旧版本的命令ng. </span></span>
<span class="line"><span>sensor: idm</span></span>
<span class="line"><span>#   传感器名称，idm/cartographer</span></span>
<span class="line"><span></span></span>
<span class="line"><span>scanner_touch_max_temp: 150</span></span>
<span class="line"><span>#    戳床时喷嘴下降到该温度</span></span>
<span class="line"><span></span></span>
<span class="line"><span>calibration_method: second_probe</span></span>
<span class="line"><span>z_offset: 0.810 #触发高度相对于喷嘴的偏移,tap的话请自行测量（先测idm偏移，后测触发偏移-0.81取正）</span></span>
<span class="line"><span>probe_speed: 10                  #校准时z移动速度</span></span>
<span class="line"><span>probe_pin: !SB2040:gpio22       #tap使用的限位引脚配置</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[gcode_macro QUAD_GANTRY_LEVEL]</span></span>
<span class="line"><span>rename_existing: _QUAD_GANTRY_LEVEL</span></span>
<span class="line"><span>gcode:</span></span>
<span class="line"><span>    SAVE_GCODE_STATE NAME=STATE_QGL</span></span>
<span class="line"><span>    BED_MESH_CLEAR</span></span>
<span class="line"><span>    {% if not printer.quad_gantry_level.applied %}</span></span>
<span class="line"><span>      _QUAD_GANTRY_LEVEL horizontal_move_z=10 retry_tolerance=1</span></span>
<span class="line"><span>    {% endif %}</span></span>
<span class="line"><span>    _QUAD_GANTRY_LEVEL horizontal_move_z=2</span></span>
<span class="line"><span>    RESTORE_GCODE_STATE NAME=STATE_QGL</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[gcode_macro BED_MESH_CALIBRATE]</span></span>
<span class="line"><span>rename_existing: _BED_MESH_CALIBRATE</span></span>
<span class="line"><span>gcode:</span></span>
<span class="line"><span>    {% set TARGET_TEMP = printer.heater_bed.target %}</span></span>
<span class="line"><span>    M140 S0</span></span>
<span class="line"><span>    _BED_MESH_CALIBRATE {rawparams}</span></span>
<span class="line"><span>    M140 S{TARGET_TEMP}</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>[force_move]</span></span>
<span class="line"><span>enable_force_move: true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.限位修改</p><p><strong>[probe]模块代码全部删除，如果你是用过klicky，请记得移除它的相关脚本的引用</strong> 将z限位<code>(stepper_z中的endstop_pin:xx)</code>后面的参数修改为<code>probe:z_virtual_endstop</code> 还需要设置</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>[safe_z_home]</span></span>
<span class="line"><span>home_xy_position: &lt;你的x轴中心坐标&gt;,&lt;你的y轴中心坐标&gt;</span></span>
<span class="line"><span>z_hop: 10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>如果你已经配置过safe_z_home或者homing_override，可以忽视这一步</p></blockquote><p>3.网床和调平设置</p><p><strong>记得设置[bed_mesh] [QUAD_GANTRY_LEVEL]中距离是IDM中心的位置（不是喷嘴的位置），原来的点超范围会报错</strong></p><h3 id="idm校准" tabindex="-1"><a class="header-anchor" href="#idm校准"><span>IDM校准</span></a></h3><p>1.重启之后归零x和y（<code>G28 x y</code> ,不要归零z），并将打印头移动到热床正中央 2.然后输入<code>SET_KINEMATIC_POSITION z=80</code>之后就可以控制z方向移动，将喷嘴贴到平台上（也可以垫A4纸确保间隙合适<code>0.2</code>） 3.再输入<code>SET_KINEMATIC_POSITION z=0</code>（注意，这和之前那条不一样）</p><p>4.之后执行指令<code>idm_calibrate</code>，弹出的偏移控制框，请点击<code>-0.1</code>的偏移后确认，会自动进行校准</p><blockquote><p><em>如果校准后重启之后，无法归零，报错no model，那么你的配置文件的自动生成配置格式错误，请修正格式。</em></p></blockquote><h3 id="tap偏移" tabindex="-1"><a class="header-anchor" href="#tap偏移"><span>TAP偏移</span></a></h3><p>1.首先归零 X Y Z <code>G28</code></p><p>2.测量TAP偏移 <code>idm_touch calibrate=1</code>测定固定z偏移（z_offset）后放弃测量，得到z偏移值（z_offset）填入</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>[scanner]</span></span>
<span class="line"><span>z_offset: 0.810 #触发高度相对于喷嘴的偏移,tap的话请自行测量（先测idm偏移，后测触发偏移-0.81取正）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>由于TAP进行自动z偏移的过程中会产生挤压导致喷嘴位置为负，需要使用<code>idm_touch calibrate=1</code>自行测定固定z偏移（z_offset）后放弃测量</p></blockquote><blockquote><p>计算时：Z偏移 = TAP探测值 - TAP偏移(z_offset)</p><p>TAP探测值 包含 TAP偏移（z_offset）+Z偏移</p><p>例 -0.83 - -0.81=-0.02</p></blockquote><p>对z偏移进行校准请使用<code>probe_calibrate method=auto</code></p><h3 id="开始打印gcode" tabindex="-1"><a class="header-anchor" href="#开始打印gcode"><span>开始打印gcode</span></a></h3><p>在热床加热结束后加入，保证热偏移也被添加（不加就刮板）</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>PROBE_CALIBRATE METHOD=AUTO</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-b4467166 data-v-0e4c9a28><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-0e4c9a28><span class="contributors-label" data-v-0e4c9a28>贡献者: </span><span class="contributors-info" data-v-0e4c9a28><!--[--><!--[--><span class="contributor" data-v-0e4c9a28>Sakura1</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-0e4c9a28><div class="pager" data-v-0e4c9a28><a class="vp-link no-icon link pager-link prev" href="/DocWeb/voron24/mod/a4nqljvw/" data-v-0e4c9a28 data-v-c19d267a><!--[--><span class="desc" data-v-0e4c9a28>上一页</span><span class="title" data-v-0e4c9a28>270度前门</span><!--]--><!----></a></div><div class="pager" data-v-0e4c9a28><!----></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-3f9c24a2 data-v-d5f31309><span class="percent" data-allow-mismatch data-v-d5f31309>0%</span><span class="show icon vpi-back-to-top" data-v-d5f31309></span><svg aria-hidden="true" data-v-d5f31309><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-d5f31309></circle></svg></button><footer class="vp-footer has-sidebar" vp-footer data-v-3f9c24a2 data-v-5ec00a74><!--[--><div class="container" data-v-5ec00a74><p class="message" data-v-5ec00a74>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/DocWeb/assets/app-DKdWVW_t.js" defer></script></body></html>